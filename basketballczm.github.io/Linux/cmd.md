# 命令行基本思路
## 总体介绍
该工具一共分为两个部分，一部分是通过自动化的脚本解析可执行文件生成配置文件。配置文件中有可执行文件中函数的函数名，函数的虚拟地址，函数形参表等相关信息。另一部分是解析输入命令行的shell,shell程序通过读入命令行以及解析相关的参数，通过配置文件得到要调用目标程序的函数地址以及形参表，然后将要执行的函数地址以及形参表传给目标程序执行，完成这次调用。

## 运行流程
1. shell的命令行例子：可执行文件 调用函数调用函数参数。
2. shell通过接收输入的命令行，以及解析配置文件，获得要调用函数的虚拟地址。
3. 通过修改目标程序的源文件加入__attribute__，该属性能够使得before_main函数在main函数之前被执行。具体函数如：__attribute__((constructor)) void before_main(int argc, char* argv[]) 然后通过校验命令行的参数看是否调用该before_main函数。
4. 运行流程如下图所示：
![图片](<images/1.jpg>)

## 进程通讯
为了满足对已经运行的进程进行命令行的控制，需要在目标程序中添加进程通讯模块。
在进程通讯模块中