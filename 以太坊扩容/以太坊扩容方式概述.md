## 扩容方式

为了提升以太坊的可扩展性，layer-1层改进方案就是对区块链协议或者对客户端工作方式的改进。

layer-2改进方案就是从应用层设计模式改进可扩展性。

每个运行以太坊网络的节点都必须处理通过网络传输的每一笔交易。这使得区块链因每个区块都有很多的验证而具有很高的安全性，但与此同时这意味着整个区块链的速度只能与其单个节点一样快，而不是这些节点的总和。目前，EVM 上的交易不是并行的，每笔交易在全局范围内都是串行执行的。解决可扩展性问题不得不面对这样一种理念，一条区块链**最多只能拥有下列 3 种属性中的 2 种**：

- 去中心化
- 可扩展性
- 安全性

增大gas和区块大小来解决问题？理论上这是正确的方法，但是我们增加得越多，区块生产就会越来越集中在使用超级计算机来运行的节点中，进而为进入系统带来更高的障碍。

### layer1 层扩容

**分片**

而从计算机科学的角度来看，要扩展吞吐量，主要有两种办法：

A. 垂直扩展：大意是加强节点，让节点变得越来越强大。 

B. 水平扩展：大意是，加入更多节点。

为了去中心化，区块链系统只能水平扩展。以太坊 2.0（也叫 Eth2 或者 Serenity）的其中一个目标是，让普通的消费级硬件就能运行节点。分片这个术语的本意，就是对数据库进行水平分区（horizontally partitioning）。

基本上，一条分片链会由一部分节点（即全网节点的一个子集）来处理。而系统中的虚拟矿工，验证者（validator），会被分配到不同的分片上，仅仅处理和验证自己所在分片链上的的交易。

### layer2 层扩容

https://ethfans.org/posts/how-to-scale-ethereum-sharding-explained