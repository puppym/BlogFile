# 3-以太坊数据分析文档

## 一. 概况（背景、目标、负责人、成员）

1. 背景

以太坊数据具备巨大的分析价值

2. 目标

对以太坊数据进行分析和总结，针对以太坊整体的数据和特定应用场景或 DAPP 下数据特征进行分析总结，发布分析报告

3. 负责人

- @even 

4. 成员

-  @even @陈自民 



## 二. 项目进展

2.12:完成已知查询需求的索引设计和sql语句编写，并且在本地完成了测试，等待900W的数据重新跑完后导入数据库中对查询时间结果进行验证。

2.17:完成了1-900W块数据的导出，以及在postgres数据库中的构建工作，初步测试了各项查询需求的时间，后面有待针对个别查询需求做进一步优化。



## 三. 分析内容

索引建立的原则：blockNumber直接建立btree索引，hash值取前10位(包括0x)建立btree的表达式索引`left(hash,10)`，timestamp建立表达式索引to_timestamp(_timestamp)，转换unix时间戳成带时区的timestamp类型。后面等数据全部导入数据库中后会权衡单个索引的查询速度和组合索引的大小，建立组合索引，提高查询需求的查询速度。

(暂时)索引列表：（各个表的各个索引大小见最后）

| 表名         | 索引项                   |
| ------------ | ------------------------ |
| blocks       | blockNumber              |
| blocks       | left(blockHash,10)       |
| blocks       | to_timestamp(_timestamp) |
| transactions | blockNumber              |
| transactions | left(blockHash,10)       |
| transactions | transactions             |
| transactions | to_timestamp(_timestamp) |
| transfers    | blockNumber              |
| transfers    | left(txHash,10)          |
| transfers    | _timestamp               |
| transfers    | left(_to,10)             |
| transfers    | left(_from,10)           |
| transfers    | left(transferType,2)     |
| traces       | blockNumber              |
| traces       | left(txHash,10)          |
| traces       | to_timestamp(_timestamp) |
| precompiled  | blockNumber              |
| precompiled  | left(txHash,10)          |
| precompiled  | to_timestamp(_timestamp) |
| events       | blockNumber              |
| events       | left(eventAddress,10)    |
| events       | left(txHash,10)          |
| events       | to_timestamp(_timestamp) |



1. 年/月/日区块数量统计（block 表 _timestamp 字段）

使用索引项：to_timestamp(_timestamp)

```SQL
第一个区块2015-07-30 03:26:28
第900个区块 2019-11-25 06:27:24  PM
explain analyse select count(*) from blocks where to_timestamp(_timestamp) between '2015-07-30 03:00:00' and '2019-11-25 06:30:00';


 Planning Time: 40.219 ms
 JIT:
   Functions: 35
   Options: Inlining false, Optimization false, Expressions true, Deforming true
   Timing: Generation 8.613 ms, Inlining 0.000 ms, Optimization 33.168 ms, Emission 126.633 ms, Total 168.413 ms
 Execution Time: 826.153 ms

```

2. 年/月/日交易数量统计（transaction 表 _timestamp 字段

使用索引项：to_timestamp(_timestamp)

```SQL
explain analyse select count(*) from transactions where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00';

 Planning Time: 1.290 ms
 JIT:
   Functions: 35
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 5.465 ms, Inlining 2.017 ms, Optimization 92.684 ms, Emission 60.822 ms, Total 160.988 ms
 Execution Time: 172.397 ms
 
 
explain analyse select count(*) from transactions where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2016-08-31 09:23:00';

 Planning Time: 1.251 ms
 JIT:
   Functions: 35
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 5.089 ms, Inlining 2.103 ms, Optimization 91.549 ms, Emission 60.959 ms, Total 159.700 ms
 Execution Time: 2338.031 ms
```

3. 年/月/日活跃合约地址数量（transfer 表 from to _timestamp 字段）

使用索引项：to_timestamp(_timestamp)

```sql
explain analyse select count(*) from (select distinct _from from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00' union select distinct _to from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00') as f;

 Planning Time: 35.975 ms
 JIT:
   Functions: 105
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 21.787 ms, Inlining 68.305 ms, Optimization 465.311 ms, Emission 290.195 ms, Total 845.599 ms
 Execution Time: 1185.946 ms

explain analyse select count(*) from (select distinct _from from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00' union select distinct _to from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2016-08-31 09:23:00') as f;

 Planning Time: 2.413 ms
 JIT:
   Functions: 105
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 7.655 ms, Inlining 3.510 ms, Optimization 445.572 ms, Emission 290.550 ms, Total 747.288 ms
 Execution Time: 13347.806 ms

```

4. 年/月/日最活跃 Top20 地址数量（transfer 表 from to _timestamp 字段）

使用索引项：to_timestamp(_timestamp)

```sql
explain analyse select f.ad, count(f.ad),row_number()over(order by count(f.ad) desc) from (select _from as ad from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00' union all select _to as ad from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00') as f group by f.ad;


explain analyse select f._from, count(f._from),row_number()over(order by count(*) desc) from (select _from  from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00' union all select _to  from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00') as f group by f._from;

 Planning Time: 2.544 ms
 JIT:
   Functions: 285
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 19.640 ms, Inlining 53.124 ms, Optimization 1342.247 ms, Emission 891.028 ms, Total 2306.039 ms
 Execution Time: 901.006 ms

explain analyse select f._from, count(f._from),row_number()over(order by count(*) desc) from (select _from  from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2016-08-31 09:23:00' union all select _to  from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2016-08-31 09:23:00') as f group by f._from;

 Planning Time: 2.523 ms
 JIT:
   Functions: 285
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 19.174 ms, Inlining 53.024 ms, Optimization 1347.929 ms, Emission 896.798 ms, Total 2316.925 ms
 Execution Time: 9408.428 ms

```

5. 年/月/日转账额最大交易 Top100 （transfer 表 _timestamp value txHash from to字段）

使用索引项：to_timestamp(_timestamp)

```sql
explain analyse select txHash from transactions where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00' order by _value desc limit 100;

 Planning Time: 23.556 ms
 JIT:
   Functions: 45
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 7.345 ms, Inlining 2.130 ms, Optimization 280.447 ms, Emission 173.384 ms, Total 463.306 ms
 Execution Time: 495.958 ms
 
explain analyse select txHash from transactions where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2016-08-31 09:23:00' order by _value desc limit 100;

 Planning Time: 1.369 ms
 JIT:
   Functions: 45
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 6.129 ms, Inlining 2.273 ms, Optimization 280.298 ms, Emission 173.516 ms, Total 462.216 ms
 Execution Time: 4127.409 ms
```

6. 年/月/日创建的合约地址数量（traces 表 op to from _timestamp 字段）

使用索引项：to_timestamp(_timestamp)

合约创建单从traces表查询create指令不能完全统计其合约创建情况，应为最外层的合约创建不会有create字节码产生。如果要统计合约创建应该统计transfers表。

```sql
explain analyse select count(*) from (select * from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00') as f where transferType='CREATE';

 Planning Time: 2.086 ms
 JIT:
   Functions: 55
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 6.412 ms, Inlining 3.512 ms, Optimization 289.031 ms, Emission 191.206 ms, Total 490.162 ms
 Execution Time: 549.923 ms

explain analyse select count(*) from (select * from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2016-08-31 09:23:00') as f where transferType='CREATE';

explain analyse select transferType, count(*) from (select * from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2016-08-31 09:23:00') as f group by transferType;

 Planning Time: 1.338 ms
 JIT:
   Functions: 55
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 6.412 ms, Inlining 3.681 ms, Optimization 289.580 ms, Emission 173.784 ms, Total 473.457 ms
 Execution Time: 4743.340 ms

explain analyse select count(*) from (select transferType from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00') as f where left(transferType,2)=left('CREATE',2);

explain analyse select count(*) from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00' and left(transferType,2)=left('CREATE',2);

         ->  Index Scan using transfers_100w_200w_timestamp on transfers_100w_200w  (cost=0.56..329764.98 rows=488 width=0) (actual time=1.501..6115.475 rows=
102414 loops=1)
               Index Cond: ((to_timestamp((_timestamp)::double precision) >= '2015-07-31 09:23:00+08'::timestamp with time zone) AND (to_timestamp((_timestamp
)::double precision) <= '2017-08-31 09:23:00+08'::timestamp with time zone))
               Filter: (transfertype = 'CREATE'::text)
               Rows Removed by Filter: 16363620

 Planning Time: 3.374 ms
 JIT:
   Functions: 55
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 8.565 ms, Inlining 3.674 ms, Optimization 289.330 ms, Emission 177.266 ms, Total 478.835 ms
 Execution Time: 51619.378 ms

#transferType使用顺序扫描，这里可以对transferType建立索引left(transferType,2)

## 建立transfers len(transfersType,2)索引之后效率
 Planning Time: 1.626 ms
 JIT:
   Functions: 37
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 5.401 ms, Inlining 4.527 ms, Optimization 229.522 ms, Emission 136.121 ms, Total 375.571 ms
 Execution Time: 10895.864 ms

```

7. 年/月/日各个指令调用数量 （traces 表 op _timestamp 字段）

使用索引项：to_timestamp(_timestamp)

```sql
explain analyse select op,count(*) from traces  where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00' group by op;

 Planning Time: 31.251 ms
 JIT:
   Functions: 150
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 22.146 ms, Inlining 52.609 ms, Optimization 780.349 ms, Emission 502.194 ms, Total 1357.297 ms
 Execution Time: 527.946 ms

explain analyse select op,count(*) from traces  where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2016-08-31 09:23:00' group by op;

 Planning Time: 1.387 ms
 JIT:
   Functions: 150
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 12.843 ms, Inlining 55.588 ms, Optimization 803.743 ms, Emission 512.430 ms, Total 1384.604 ms
 Execution Time: 11017.131 ms

explain analyse select op,count(*) from traces  where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00' group by op;

 Planning Time: 1.390 ms
 JIT:
   Functions: 150
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 13.902 ms, Inlining 52.339 ms, Optimization 788.585 ms, Emission 511.053 ms, Total 1365.879 ms
 Execution Time: 150383.228 ms

explain analyse select op from traces  where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00' ;

 Planning Time: 1.247 ms
 JIT:
   Functions: 44
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 5.858 ms, Inlining 2.523 ms, Optimization 241.269 ms, Emission 153.413 ms, Total 403.063 ms
 Execution Time: 98843.438 ms


# 主要是group by花费时间
```

8. 年/月/日失败调用数量（traces 表  _timestamp 字段）

使用索引项：to_timestamp(_timestamp)

```sql
explain analyse select err,count(*) from 
(select * from traces where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00') as f
where f.err!='' group by err; 

 Planning Time: 3.382 ms
 JIT:
   Functions: 68
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 8.363 ms, Inlining 3.543 ms, Optimization 522.669 ms, Emission 315.183 ms, Total 849.758 ms
 Execution Time: 863.866 ms

explain analyse select err,count(*) from 
(select * from traces where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00') as f
where f.err!='' group by err; 

 Planning Time: 1.518 ms
 JIT:
   Functions: 68
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 8.145 ms, Inlining 4.120 ms, Optimization 522.333 ms, Emission 316.452 ms, Total 851.051 ms
 Execution Time: 86270.445 ms
# 这个查询花费的时间比较长的主要原因是err没有建立索引，可以尝试建立表达式索引left(err,3)

explain analyse select f.err,count(*) from 
(select err from traces where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00') as f group by f.err; 
131000ms
# 这一项的查询效果没有上一行的好，主要原因是trace调用失败的占少数
```



9. 年/月/日预编译合约调用数量统计（precompileds 表  _timestamp 字段）

使用索引项：to_timestamp(_timestamp)

```sql
explain analyse select _to,count(*) from (select * from precompileds where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00') as f group by _to;

 Planning Time: 14.588 ms
 JIT:
   Functions: 150
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 12.367 ms, Inlining 52.990 ms, Optimization 574.247 ms, Emission 379.144 ms, Total 1018.747 ms
 Execution Time: 446.949 ms

explain analyse select _to,count(*) from (select * from precompileds where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2016-08-31 09:23:00') as f group by _to;

 Planning Time: 1.406 ms
 JIT:
   Functions: 150
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 11.070 ms, Inlining 52.999 ms, Optimization 573.148 ms, Emission 386.579 ms, Total 1023.796 ms
 Execution Time: 1752.106 ms

```



10. 年/月/日预编译合约调用地址统计（precompileds 表  _timestamp 字段）

使用索引项：to_timestamp(_timestamp)

```sql
explain analyse select _to,count(*) from (select * from precompileds where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00') as f  group by _to;

 Planning Time: 0.404 ms
 JIT:
   Functions: 150
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 8.876 ms, Inlining 52.168 ms, Optimization 571.406 ms, Emission 378.359 ms, Total 1010.808 ms
 Execution Time: 367.634 ms
 
explain analyse select _to,count(*) from (select * from precompileds where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00') as f  group by _to;

 Planning Time: 1.351 ms
 JIT:
   Functions: 150
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 11.618 ms, Inlining 53.378 ms, Optimization 581.102 ms, Emission 383.728 ms, Total 1029.825 ms
 Execution Time: 3091.916 ms

# group by 和 count(*) 花费较长时间

```



11. 年/月/日 USDT,TUSD,PAX等主流Token的交易量（events 表 ） 这一项稍微复杂一些，需要做一些处理，参考https://aciclo.net/even/erc20_token_exporter/src/master/eth_event.go#L165

使用索引项：timestamp或者eventAddress，通过对比发现使用timestamp的性能要好一点。（这一项可以尝试使用组合索引，但是暂时不确定当前使用一个索引项的效率和组合索引大小，这里的权衡有待后面进一步验证）

```sql
explain analyse select row_number()over(),split_part(topics,'_',2) as _from,split_part(topics,'_',3) as _to,eventData,blockNumber,blockHash,txHash,txIndex,logIndex,_timestamp 
from events where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00' 
and left(eventAddress,10)='0xa0b86991' and left(topics,10)='0xddf252ad';

 Planning Time: 29.901 ms
 JIT:
   Functions: 64
   Options: Inlining false, Optimization false, Expressions true, Deforming true
   Timing: Generation 24.470 ms, Inlining 0.000 ms, Optimization 3.360 ms, Emission 42.594 ms, Total 70.424 ms
 Execution Time: 76.574 ms

explain analyse select row_number()over(),split_part(topics,'_',2) as _from,split_part(topics,'_',3) as _to,eventData,blockNumber,blockHash,txHash,txIndex,logIndex,_timestamp 
from events where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00' 
and left(topics,10)='0xddf252ad' and left(eventAddress,10)='0xa0b86991';

 Planning Time: 1.903 ms
 JIT:
   Functions: 64
   Options: Inlining false, Optimization false, Expressions true, Deforming true
   Timing: Generation 7.112 ms, Inlining 0.000 ms, Optimization 2.247 ms, Emission 34.644 ms, Total 44.004 ms
 Execution Time: 804.128 ms

上面查询约束的排列不管是to_timestamp(_timestamp)，left(topics,10)，left(eventAddress,10)以及to_timestamp(_timestamp)，left(eventAddress,10)，left(topics,10) 没有对left(topics,10)字段建立索引，这些查询都是会使用_timestamp和eventAddress两个索引。
主要是建立单个索引，看看多个查询条件组合的情况下，哪一个单个索引首先过滤的效率高。索引和非索引项约束组合的情况下，将所引项放在最左侧能够最大限度过滤后面查找条件的顺序索引。
```

12. 年/月/日 USDT,TUSD,PAX等主流Token的调用最活跃 Top20 地址数量（transfer 表 from to _timestamp 字段）

组合索引：to_timestamp(_timestamp)  _to

```sql
explain analyse select _from,count(_from) from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00' and left(_to,10)='0xa0b86991' group by _from;

 Planning Time: 1.728 ms
 JIT:
   Functions: 69
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 7.319 ms, Inlining 19.271 ms, Optimization 363.898 ms, Emission 219.988 ms, Total 610.476 ms
 Execution Time: 698.887 ms
 
explain analyse select _from,count(_from) from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00' and left(_to,10)='0xa0b86991' group by 1 order by 2 limit 20;


 Planning Time: 1.430 ms
 JIT:
   Functions: 69
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 7.729 ms, Inlining 4.787 ms, Optimization 344.870 ms, Emission 219.855 ms, Total 577.241 ms
 Execution Time: 61035.094 ms

#没有对transfers 的_to字段建立索引，导致查询时间较长。

#添加_to索引字段之后的查询效率显著提升
 Planning Time: 54.927 ms
 JIT:
   Functions: 51
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 20.847 ms, Inlining 0.000 ms, Optimization 0.000 ms, Emission 0.000 ms, Total 20.847 ms
 Execution Time: 7198.256 ms

```

使用单个索引：

```sql
explain analyse select * from (select _from from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00') as f where left(_to,10)='0xa0b86991';


explain analyse select _from, count(*), row_number()over(order by count(*) desc) from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2016-08-31 09:23:00' group by _from limit 10;
```



13. 年/月/日 Maker 等主流DiFi的调用最活跃 Top20 地址数量（transfer 表 from to _timestamp 字段）

使用索引项：to_timestamp(_timestamp)   _to

```sql
explain analyse select _from,count(_from) from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00' and left(_to,10)=left('0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2',10) group by _from;

 Planning Time: 1.503 ms
 JIT:
   Functions: 69
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 7.447 ms, Inlining 4.957 ms, Optimization 344.266 ms, Emission 220.048 ms, Total 576.718 ms
 Execution Time: 665.207 ms

explain analyse select _from,count(_from) from transfers where to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2017-08-31 09:23:00' and left(_to,10)=left('0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2',10) group by _from;

 Planning Time: 0.350 ms
 JIT:
   Functions: 69
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 4.725 ms, Inlining 5.088 ms, Optimization 343.091 ms, Emission 222.331 ms, Total 575.235 ms
 Execution Time: 60850.186 ms

# 没有对transfers 的_to字段建立索引，导致查询时间较长。
# 建立_to字段的索引之后查询效率显著提升

 Planning Time: 2.257 ms
 JIT:
   Functions: 51
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 4.990 ms, Inlining 0.000 ms, Optimization 0.000 ms, Emission 0.000 ms, Total 4.990 ms
 Execution Time: 6421.837 ms

```

```sql
explain analyse select _from,count(_from) from (select _from,_to from transfers where  to_timestamp(_timestamp) between '2015-07-31 09:23:00' and '2015-08-31 09:23:00') as f where left(_to,10)=left('0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2
',10) group by _from;


```

上面两种方式优化器优化之后其物理查询树是一样的。



14. 月指定时间段内 月/日/时平均 gas 价格（如 2019.1.1~2019.12.31 期间每日的 gas 平均价格）

```sql
explain analyse select avg(gasPrice) from transactions where to_timestamp(_timestamp) between '2019-01-01 09:23:00' and '2019-12-31 09:23:00';

 Planning Time: 4.650 ms
 JIT:
   Functions: 46
   Options: Inlining true, Optimization true, Expressions true, Deforming true
   Timing: Generation 7.350 ms, Inlining 56.134 ms, Optimization 263.686 ms, Emission 153.606 ms, Total 480.776 ms
 Execution Time: 78326.781 ms

```



15. top5 游戏合约/交易所合约/DeFi/稳定币 合约活跃地址数（哪些是 top5 可能要去查一下）

[stateoftheDAPPs排名查询](https://www.stateofthedapps.com/zh/platforms/ethereum)

**游戏合约**

每一个游戏合约涉及很多地址。

游戏合约top5列表

[top表](https://www.stateofthedapps.com/zh/rankings/platform/ethereum/category/games)

| 合约名                                                       | 地址 |
| ------------------------------------------------------------ | ---- |
| [My Crypto Heroes](https://www.stateofthedapps.com/zh/dapps/my-crypto-heroes) |      |
| [Knight Story](https://www.stateofthedapps.com/zh/dapps/knight-story) |      |
| [CryptoDozer](https://www.stateofthedapps.com/zh/dapps/cryptodozer) |      |
| [Axie Infinity](https://www.stateofthedapps.com/zh/dapps/axie-infinity) |      |
| [0xUniverse](https://www.stateofthedapps.com/zh/dapps/0xuniverse) |      |

上面以分析`My Crypto Heroes`举一个例子：

1. 该游戏涉及到的地址有0x273f7F8E6489682Df756151F5525576E322d51A3，具体地址能够在上面查询到。主要是查询其余地址和这些地址之间transfers表的交互。活跃地址数主要是_to地址为这些地址交易的from地址。

```sql
# 这些地址是否要算上_from为My Crypto Heroes，_to为外部账户的地址？
explain analyse select _from,count(_from) from transfers where to_timestamp(_timestamp) between '2019-01-31 09:23:00' and '2019-03-31 09:23:00' and (left(_to,10)=left('0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2',10) or left(_to,10)=left('0xa30cbce69f520bf2a34c5c15193b7f5afe427a26',10) or left(_to,10)=left('0xdceaf1652a131F32a821468Dc03A92df0edd86Ea',10))group by _from;

explain analyse select _from,count(_from) from transfers where to_timestamp(_timestamp) between '2019-01-31 09:23:00' and '2019-03-31 09:23:00' and (left(_to,10)=left('0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2',10) or left(_to,10)=left('0xa30cbce69f520bf2a34c5c15193b7f5afe427a26',10) or left(_to,10)=left('0xdceaf1652a131F32a821468Dc03A92df0edd86Ea',10) or left(_from,10)=left('0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2',10) or left(_from,10)=left('0xa30cbce69f520bf2a34c5c15193b7f5afe427a26',10) or left(_from,10)=left('0xdceaf1652a131F32a821468Dc03A92df0edd86Ea',10))group by _from;


select * from transfers where to_timestamp(_timestamp) between  '2019-07-31 09:23:00' and '2020-08-31 09:23:00' and left(_from,10)=left('0x02ED6A253e406b8afF61Dfbc808F57C98493c19d',10) limit 100;
```

**交易所合约**

[交易所top](https://99bitcoins.com/ethereum-exchanges/)

| 合约名                                                       | 地址 |
| ------------------------------------------------------------ | ---- |
| [Coinmama](https://99bitcoins.com/goto/coinmama-ether)       |      |
| [Coinbase](https://www.coinbase.com/price/ethereum?clickId=W8ZX7h11fxyOTaCwUx0Mo3Q3UknV22RcDxh-Wc0&utm_source=affiliate&utm_medium=cpc&utm_campaign=99Bitcoins&utm_content=552039&utm_creative=Online%20Tracking%20Link&irgwc=1) |      |
| [eToro](https://99bitcoins.com/goto/etoro-eth)               |      |
| [CEX.io](https://99bitcoins.com/goto/cex-io-ether)           |      |
| Local [Ethereum](https://99bitcoins.com/goto/localethereum)  |      |

**DeFi**

[DeFi](https://defiprime.com/ethereum)

[去中心化交易所分析](https://www.jianshu.com/p/b09e2d7f75d6)

[ethfans对去中心化交易所交易活动的分析](https://ethfans.org/posts/analyzing-activities-on-decentralized-exchanges-2018)

| 合约名                                                       | 地址 |
| ------------------------------------------------------------ | ---- |
| [1INCH.EXCHANGE](https://1inch.exchange/#/r/0xEbDb626C95a25f4e304336b1adcAd0521a1Bdca1) |      |
| [AIRSWAP](https://www.airswap.io/)                           |      |
| [ATOMEX](https://atomex.me/)                                 |      |
| [BAMBOO RELAY](https://bamboorelay.com/)                     |      |
| [UNISWAP EXCHANGE](https://uniswap.exchange/)                |      |

**稳定币**

[top5](https://www.kryptographe.com/which-are-top-5-stablecoins/)

| 合约名   | 地址 |
| -------- | ---- |
| Tether   |      |
| GlobCoin |      |
| Carbon   |      |
| Dai      |      |
| Basis    |      |

后面会在900W区块数据跑完后重新导入数据库中，进行查询时间分析：

| 查询需求 | 表名         | 查询时间 |
| -------- | ------------ | -------- |
| 1        | blocks       |          |
| 2        | transactions |          |
| 3        | transfers    |          |
| 4        | transfers    |          |
| 5        | transfers    |          |
| 6        | traces       |          |
| 7        | traces       |          |
| 8        | traces       |          |
| 9        | precompileds |          |
| 10       | precompileds |          |
| 11       | events       |          |
| 12       | transfers    |          |

总结：

需要权衡各个查询需求的索引创建情况，对于多个约束的查询可以创建组合索引，但是索引太多会占用存储空间，索引太少会导致查询速度慢。因此部分创建索引，查询过程中先使用索引项的约束条件缩小查询范围，然后再进行顺序查找。

多个查找约束AND的时候，只要其中的约束不管排列顺序如何只要建立了索引就会启用索引查找。

对于上面的查询需求，可以新建索引transfers表的_to，transferType字段traces表的err字段。

transfers left(_to,10) left(transferType,2)

traces表的err字段待定

    err                        | count
    ------
     gas uint64 overflow       |      1
     invalid opcode 0xfd       | 246924
     out of gas                | 115204
     stack underflow (0 <=> 1) |   6692
     stack underflow (0 <=> 2) |      4
     stack underflow (0 <=> 3) |   3345
     stack underflow (0 <=> 7) |  10037
## 四. 文档归集

## 各个索引大小

按照单个索引大小排序

| indexrelname                        | pg_size_pretty |
| ----------------------------------- | -------------- |
| traces_800w_900w_txhash             | 17 GB          |
| traces_700w_800w_txhash             | 14 GB          |
| traces_600w_700w_txhash             | 13 GB          |
| traces_800w_900w_blocknumber        | 12 GB          |
| traces_800w_900w_timestamp          | 12 GB          |
| traces_500w_600w_txhash             | 11 GB          |
| transfers_800w_900w_from            | 10 GB          |
| transfers_800w_900w_to              | 10 GB          |
| transfers_800w_900w_txhash          | 10 GB          |
| transfers_500w_600w_from            | 10 GB          |
| transfers_500w_600w_to              | 10 GB          |
| transfers_500w_600w_txhash          | 10 GB          |
| transfers_700w_800w_from            | 10 GB          |
| transfers_700w_800w_to              | 10 GB          |
| transfers_700w_800w_txhash          | 10 GB          |
| traces_700w_800w_blocknumber        | 10 GB          |
| traces_700w_800w_timestamp          | 10 GB          |
| transfers_600w_700w_from            | 9383 MB        |
| transfers_600w_700w_to              | 9383 MB        |
| traces_600w_700w_timestamp          | 9381 MB        |
| traces_600w_700w_blocknumber        | 9381 MB        |
| transfers_600w_700w_txhash          | 9369 MB        |
| transfers_400w_500w_from            | 8683 MB        |
| transfers_400w_500w_to              | 8683 MB        |
| transfers_400w_500w_txhash          | 8669 MB        |
| traces_500w_600w_blocknumber        | 8322 MB        |
| traces_500w_600w_timestamp          | 8322 MB        |
| traces_200w_300w_txhash             | 7586 MB        |
| transfers_800w_900w_transfertype    | 7578 MB        |
| transfers_800w_900w_blocknumber     | 7578 MB        |
| transfers_800w_900w_timestamp       | 7578 MB        |
| transfers_500w_600w_transfertype    | 7430 MB        |
| transfers_500w_600w_blocknumber     | 7430 MB        |
| transfers_500w_600w_timestamp       | 7430 MB        |
| transfers_700w_800w_transfertype    | 7332 MB        |
| transfers_700w_800w_timestamp       | 7332 MB        |
| transfers_700w_800w_blocknumber     | 7332 MB        |
| transfers_600w_700w_transfertype    | 6682 MB        |
| transfers_600w_700w_blocknumber     | 6682 MB        |
| transfers_600w_700w_timestamp       | 6682 MB        |
| traces_400w_500w_txhash             | 6503 MB        |
| transfers_400w_500w_transfertype    | 6184 MB        |
| transfers_400w_500w_blocknumber     | 6184 MB        |
| transfers_400w_500w_timestamp       | 6184 MB        |
| traces_200w_300w_timestamp          | 5402 MB        |
| traces_200w_300w_blocknumber        | 5402 MB        |
| traces_400w_500w_timestamp          | 4632 MB        |
| traces_400w_500w_blocknumber        | 4632 MB        |
| transactions_500w_600w_blockhash    | 3737 MB        |
| transactions_500w_600w_txhash       | 3731 MB        |
| events_800w_900w_eventaddress       | 3715 MB        |
| events_800w_900w_txhash             | 3712 MB        |
| transactions_400w_500w_blockhash    | 3420 MB        |
| transactions_400w_500w_txhash       | 3415 MB        |
| transactions_800w_900w_blockhash    | 3352 MB        |
| transactions_800w_900w_txhash       | 3347 MB        |
| transactions_700w_800w_blockhash    | 3282 MB        |
| transactions_700w_800w_txhash       | 3278 MB        |
| events_500w_600w_eventaddress       | 3166 MB        |
| events_500w_600w_txhash             | 3164 MB        |
| events_700w_800w_eventaddress       | 2957 MB        |
| events_700w_800w_txhash             | 2954 MB        |
| events_600w_700w_eventaddress       | 2906 MB        |
| events_600w_700w_txhash             | 2904 MB        |
| transactions_600w_700w_blockhash    | 2889 MB        |
| transactions_600w_700w_txhash       | 2885 MB        |
| transfers_200w_300w_from            | 2699 MB        |
| transfers_200w_300w_to              | 2698 MB        |
| transfers_200w_300w_txhash          | 2689 MB        |
| transactions_500w_600w_blocknumber  | 2661 MB        |
| transactions_500w_600w_timestamp    | 2661 MB        |
| events_800w_900w_timestamp          | 2645 MB        |
| events_800w_900w_blocknumber        | 2645 MB        |
| transactions_400w_500w_timestamp    | 2435 MB        |
| transactions_400w_500w_blocknumber  | 2435 MB        |
| transactions_800w_900w_blocknumber  | 2387 MB        |
| transactions_800w_900w_timestamp    | 2387 MB        |
| transactions_700w_800w_timestamp    | 2337 MB        |
| transactions_700w_800w_blocknumber  | 2337 MB        |
| events_500w_600w_blocknumber        | 2255 MB        |
| events_500w_600w_timestamp          | 2255 MB        |
| events_700w_800w_blocknumber        | 2105 MB        |
| events_700w_800w_timestamp          | 2105 MB        |
| events_600w_700w_timestamp          | 2070 MB        |
| events_600w_700w_blocknumber        | 2070 MB        |
| transactions_600w_700w_blocknumber  | 2058 MB        |
| transactions_600w_700w_timestamp    | 2058 MB        |
| transfers_200w_300w_transfertype    | 1922 MB        |
| transfers_200w_300w_timestamp       | 1922 MB        |
| transfers_200w_300w_blocknumber     | 1922 MB        |
| events_400w_500w_eventaddress       | 1750 MB        |
| events_400w_500w_txhash             | 1748 MB        |
| transfers_300w_400w_from            | 1603 MB        |
| transfers_300w_400w_to              | 1603 MB        |
| transfers_300w_400w_txhash          | 1593 MB        |
| events_400w_500w_blocknumber        | 1246 MB        |
| events_400w_500w_timestamp          | 1246 MB        |
| transfers_300w_400w_transfertype    | 1141 MB        |
| transfers_300w_400w_timestamp       | 1141 MB        |
| transfers_300w_400w_blocknumber     | 1141 MB        |
| traces_300w_400w_txhash             | 889 MB         |
| traces_300w_400w_timestamp          | 633 MB         |
| traces_300w_400w_blocknumber        | 633 MB         |
| transactions_300w_400w_blockhash    | 632 MB         |
| transactions_300w_400w_txhash       | 631 MB         |
| transfers_100w_200w_from            | 496 MB         |
| transfers_100w_200w_to              | 496 MB         |
| transfers_100w_200w_txhash          | 486 MB         |
| transactions_300w_400w_blocknumber  | 450 MB         |
| transactions_300w_400w_timestamp    | 450 MB         |
| precompileds_400w_500w_txhash       | 358 MB         |
| transfers_100w_200w_transfertype    | 353 MB         |
| transfers_100w_200w_blocknumber     | 353 MB         |
| transfers_100w_200w_timestamp       | 353 MB         |
| precompileds_500w_600w_txhash       | 269 MB         |
| events_300w_400w_eventaddress       | 268 MB         |
| events_300w_400w_txhash             | 268 MB         |
| precompileds_400w_500w_timestamp    | 255 MB         |
| precompileds_400w_500w_blocknumber  | 255 MB         |
| precompileds_700w_800w_txhash       | 238 MB         |
| precompileds_600w_700w_txhash       | 221 MB         |
| transactions_200w_300w_blockhash    | 220 MB         |
| transactions_200w_300w_txhash       | 220 MB         |
| traces_100w_200w_txhash             | 206 MB         |
| transactions_100w_200w_blockhash    | 192 MB         |
| transactions_100w_200w_txhash       | 192 MB         |
| precompileds_500w_600w_blocknumber  | 192 MB         |
| precompileds_500w_600w_timestamp    | 192 MB         |
| events_300w_400w_blocknumber        | 191 MB         |
| events_300w_400w_timestamp          | 191 MB         |
| precompileds_800w_900w_txhash       | 184 MB         |
| precompileds_700w_800w_blocknumber  | 170 MB         |
| precompileds_700w_800w_timestamp    | 170 MB         |
| transfers_1_100w_from               | 167 MB         |
| transfers_1_100w_to                 | 167 MB         |
| transfers_1_100w_txhash             | 158 MB         |
| precompileds_600w_700w_timestamp    | 158 MB         |
| precompileds_600w_700w_blocknumber  | 158 MB         |
| transactions_200w_300w_blocknumber  | 157 MB         |
| transactions_200w_300w_timestamp    | 157 MB         |
| traces_100w_200w_timestamp          | 147 MB         |
| traces_100w_200w_blocknumber        | 147 MB         |
| transactions_100w_200w_blocknumber  | 137 MB         |
| transactions_100w_200w_timestamp    | 137 MB         |
| precompileds_800w_900w_blocknumber  | 131 MB         |
| precompileds_800w_900w_timestamp    | 131 MB         |
| transfers_1_100w_transfertype       | 119 MB         |
| transfers_1_100w_timestamp          | 119 MB         |
| transfers_1_100w_blocknumber        | 119 MB         |
| traces_1_100w_txhash                | 109 MB         |
| traces_1_100w_blocknumber           | 77 MB          |
| traces_1_100w_timestamp             | 77 MB          |
| events_200w_300w_eventaddress       | 67 MB          |
| events_200w_300w_txhash             | 67 MB          |
| transactions_1_100w_blockhash       | 50 MB          |
| transactions_1_100w_txhash          | 50 MB          |
| events_200w_300w_timestamp          | 48 MB          |
| events_200w_300w_blocknumber        | 48 MB          |
| events_100w_200w_eventaddress       | 41 MB          |
| events_100w_200w_txhash             | 41 MB          |
| precompileds_300w_400w_txhash       | 37 MB          |
| transactions_1_100w_timestamp       | 36 MB          |
| transactions_1_100w_blocknumber     | 36 MB          |
| blocks_600w_700w_blockhash          | 30 MB          |
| blocks_800w_900w_blockhash          | 30 MB          |
| blocks_500w_600w_blockhash          | 30 MB          |
| blocks_400w_500w_blockhash          | 30 MB          |
| blocks_100w_200w_blockhash          | 30 MB          |
| blocks_700w_800w_blockhash          | 30 MB          |
| blocks_200w_300w_blockhash          | 30 MB          |
| blocks_300w_400w_blockhash          | 30 MB          |
| blocks_1_100w_blockhash             | 30 MB          |
| events_100w_200w_timestamp          | 29 MB          |
| events_100w_200w_blocknumber        | 29 MB          |
| precompileds_300w_400w_timestamp    | 26 MB          |
| precompileds_300w_400w_blocknumber  | 26 MB          |
| events_1_100w_eventaddress          | 23 MB          |
| events_1_100w_txhash                | 23 MB          |
| blocks_400w_500w_blocknumber        | 21 MB          |
| blocks_700w_800w_timestamp          | 21 MB          |
| blocks_1_100w_timestamp             | 21 MB          |
| blocks_100w_200w_blocknumber        | 21 MB          |
| blocks_100w_200w_timestamp          | 21 MB          |
| blocks_200w_300w_blocknumber        | 21 MB          |
| blocks_200w_300w_timestamp          | 21 MB          |
| blocks_300w_400w_blocknumber        | 21 MB          |
| blocks_300w_400w_timestamp          | 21 MB          |
| blocks_800w_900w_blocknumber        | 21 MB          |
| blocks_400w_500w_timestamp          | 21 MB          |
| blocks_500w_600w_blocknumber        | 21 MB          |
| blocks_500w_600w_timestamp          | 21 MB          |
| blocks_600w_700w_blocknumber        | 21 MB          |
| blocks_600w_700w_timestamp          | 21 MB          |
| blocks_700w_800w_blocknumber        | 21 MB          |
| blocks_800w_900w_timestamp          | 21 MB          |
| blocks_1_100w_blocknumber           | 21 MB          |
| events_1_100w_blocknumber           | 16 MB          |
| events_1_100w_timestamp             | 16 MB          |
| precompileds_200w_300w_txhash       | 15 MB          |
| precompileds_200w_300w_blocknumber  | 10 MB          |
| precompileds_200w_300w_timestamp    | 10 MB          |
| precompileds_100w_200w_txhash       | 7656 kB        |
| precompileds_1_100w_txhash          | 7096 kB        |
| precompileds_100w_200w_timestamp    | 5464 kB        |
| precompileds_100w_200w_blocknumber  | 5464 kB        |
| precompileds_1_100w_timestamp       | 5056 kB        |
| precompileds_1_100w_blocknumber     | 5056 kB        |
| blocks_900w_1000w_timestamp         | 16 kB          |
| transactions_900w_1000w_blocknumber | 16 kB          |
| transactions_900w_1000w_blockhash   | 16 kB          |
| transactions_900w_1000w_txhash      | 16 kB          |
| transactions_900w_1000w_timestamp   | 16 kB          |
| transfers_900w_1000w_blocknumber    | 16 kB          |
| transfers_900w_1000w_txhash         | 16 kB          |
| transfers_900w_1000w_timestamp      | 16 kB          |
| precompileds_900w_1000w_txhash      | 16 kB          |
| transfers_900w_1000w_to             | 16 kB          |
| transfers_900w_1000w_transfertype   | 16 kB          |
| precompileds_900w_1000w_blocknumber | 16 kB          |
| precompileds_900w_1000w_timestamp   | 16 kB          |
| traces_900w_1000w_txhash            | 16 kB          |
| traces_900w_1000w_blocknumber       | 16 kB          |
| traces_900w_1000w_timestamp         | 16 kB          |
| events_900w_1000w_eventaddress      | 16 kB          |
| events_900w_1000w_timestamp         | 16 kB          |
| events_900w_1000w_blocknumber       | 16 kB          |
| events_900w_1000w_txhash            | 16 kB          |
| blocks_900w_1000w_blocknumber       | 16 kB          |
| transfers_900w_1000w_from           | 16 kB          |
| blocks_900w_1000w_blockhash         | 16 kB          |

按照每个表的索引大小排序

| 表名                    | 总大小     | 数据大小   | 索引大小 |
| ----------------------- | ---------- | ---------- | -------- |
| transfers_800w_900w     | 161 GB     | 107 GB     | 53 GB    |
| transfers_500w_600w     | 158 GB     | 106 GB     | 52 GB    |
| transfers_700w_800w     | 156 GB     | 104 GB     | 52 GB    |
| transfers_600w_700w     | 142 GB     | 95 GB      | 47 GB    |
| transfers_400w_500w     | 133 GB     | 89 GB      | 44 GB    |
| traces_800w_900w        | 204 GB     | 163 GB     | 41 GB    |
| traces_700w_800w        | 170 GB     | 135 GB     | 34 GB    |
| traces_600w_700w        | 155 GB     | 124 GB     | 31 GB    |
| traces_500w_600w        | 137 GB     | 109 GB     | 28 GB    |
| traces_200w_300w        | 98 GB      | 80 GB      | 18 GB    |
| traces_400w_500w        | 76 GB      | 61 GB      | 15 GB    |
| transfers_200w_300w     | 40 GB      | 27 GB      | 14 GB    |
| transactions_500w_600w  | 65 GB      | 51 GB      | 12 GB    |
| events_800w_900w        | 79 GB      | 67 GB      | 12 GB    |
| transactions_400w_500w  | 57 GB      | 45 GB      | 11 GB    |
| transactions_800w_900w  | 62 GB      | 50 GB      | 11 GB    |
| transactions_700w_800w  | 60 GB      | 48 GB      | 11 GB    |
| events_500w_600w        | 66 GB      | 55 GB      | 11 GB    |
| events_700w_800w        | 62 GB      | 52 GB      | 10121 MB |
| events_600w_700w        | 61 GB      | 52 GB      | 9950 MB  |
| transactions_600w_700w  | 54 GB      | 41 GB      | 9890 MB  |
| transfers_300w_400w     | 25 GB      | 17 GB      | 8221 MB  |
| events_400w_500w        | 38 GB      | 32 GB      | 5990 MB  |
| transfers_100w_200w     | 7828 MB    | 5289 MB    | 2538 MB  |
| transactions_300w_400w  | 10112 MB   | 7862 MB    | 2162 MB  |
| traces_300w_400w        | 11 GB      | 8727 MB    | 2155 MB  |
| events_300w_400w        | 5627 MB    | 4708 MB    | 918 MB   |
| precompileds_400w_500w  | 4124 MB    | 3254 MB    | 869 MB   |
| transfers_1_100w        | 2649 MB    | 1799 MB    | 850 MB   |
| transactions_200w_300w  | 3426 MB    | 2623 MB    | 753 MB   |
| transactions_100w_200w  | 3020 MB    | 2308 MB    | 658 MB   |
| precompileds_500w_600w  | 3131 MB    | 2477 MB    | 653 MB   |
| precompileds_700w_800w  | 2784 MB    | 2206 MB    | 578 MB   |
| precompileds_600w_700w  | 2595 MB    | 2058 MB    | 536 MB   |
| traces_100w_200w        | 2638 MB    | 2137 MB    | 500 MB   |
| precompileds_800w_900w  | 2178 MB    | 1732 MB    | 446 MB   |
| traces_1_100w           | 1436 MB    | 1173 MB    | 263 MB   |
| events_200w_300w        | 1421 MB    | 1190 MB    | 230 MB   |
| transactions_1_100w     | 1030 MB    | 851 MB     | 173 MB   |
| events_100w_200w        | 1016 MB    | 874 MB     | 142 MB   |
| precompileds_300w_400w  | 549 MB     | 460 MB     | 89 MB    |
| events_1_100w           | 666 MB     | 588 MB     | 77 MB    |
| blocks_400w_500w        | 412 MB     | 339 MB     | 73 MB    |
| blocks_300w_400w        | 414 MB     | 340 MB     | 73 MB    |
| blocks_100w_200w        | 439 MB     | 366 MB     | 73 MB    |
| blocks_600w_700w        | 417 MB     | 344 MB     | 73 MB    |
| blocks_500w_600w        | 414 MB     | 341 MB     | 73 MB    |
| blocks_700w_800w        | 430 MB     | 357 MB     | 73 MB    |
| blocks_200w_300w        | 414 MB     | 341 MB     | 73 MB    |
| blocks_800w_900w        | 434 MB     | 361 MB     | 73 MB    |
| blocks_1_100w           | 441 MB     | 368 MB     | 73 MB    |
| precompileds_200w_300w  | 304 MB     | 268 MB     | 35 MB    |
| precompileds_100w_200w  | 225 MB     | 207 MB     | 18 MB    |
| precompileds_1_100w     | 218 MB     | 202 MB     | 17 MB    |
| transfers_900w_1000w    | 200 kB     | 72 kB      | 96 kB    |
| events_900w_1000w       | 120 kB     | 24 kB      | 64 kB    |
| transactions_900w_1000w | 200 kB     | 48 kB      | 64 kB    |
| precompileds_900w_1000w | 64 kB      | 8192 bytes | 48 kB    |
| traces_900w_1000w       | 136 kB     | 56 kB      | 48 kB    |
| blocks_900w_1000w       | 64 kB      | 8192 bytes | 48 kB    |
| blocks                  | 8192 bytes | 0 bytes    | 0 bytes  |
| events                  | 8192 bytes | 0 bytes    | 0 bytes  |
| transfers               | 8192 bytes | 0 bytes    | 0 bytes  |
| traces                  | 8192 bytes | 0 bytes    | 0 bytes  |
| precompileds            | 8192 bytes | 0 bytes    | 0 bytes  |
| transactions            | 8192 bytes | 0 bytes    | 0 bytes  |

